<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dcm.dao.SelfbuildMapper">
  <select id="select" parameterType="java.util.Map" resultType="String">
    SELECT location.storage_path FROM instance 
			  LEFT JOIN location ON location.instance_fk=instance.pk 
			  LEFT JOIN series ON instance.series_fk=series.pk 
			  LEFT JOIN study ON study.pk=series.study_fk 
			  WHERE series.series_iuid=#{seriesInstanceUID}
			  AND study.study_iuid=#{studyInstanseUID}
  </select>
  <select id="count" parameterType="String" resultType="String">
    SELECT COUNT(*) FROM instance WHERE series_fk=(select pk from series where series_iuid=#{seriesInstanceUID})
  </select>
  <!--  <select id="select1" parameterType="com.dcm.entity.Sign" resultMap="com.dcm.entity.Sign">
    select 
    storage_path from location
  </select> -->
</mapper>